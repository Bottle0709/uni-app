(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-search-list-search-list"],{"0c9a":function(t,e,n){var i=n("8fd0");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var a=n("4f06").default;a("62518972",i,!0,{sourceMap:!1,shadowMode:!1})},"115a":function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return i}));var i={searchList:n("5587").default},a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",[n("v-uni-view",{staticClass:"d-flex border-top border-bottom a-center position-fixed top-0 left-0 right-0 bg-white",staticStyle:{height:"100upx","z-index":"100"}},[t._l(t.screen.list,(function(e,i){return n("v-uni-view",{key:i,staticClass:"flex-1 d-flex a-center j-center font-md",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.changeScreen(i)}}},[n("v-uni-text",{class:t.screen.currentIndex===i?"main-text-color":"text-muted"},[t._v(t._s(e.name))]),n("v-uni-view",[n("v-uni-view",{staticClass:"iconfont icon-paixu-shengxu line-h0",class:1===e.status?"main-text-color":"text-light-muted"}),n("v-uni-view",{staticClass:"iconfont icon-paixu-jiangxu line-h0",class:2===e.status?"main-text-color":"text-light-muted"})],1)],1)})),n("v-uni-view",{staticClass:"flex-1 d-flex a-center j-center main-text-color",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.showDrawer.apply(void 0,arguments)}}},[t._v("筛选")])],2),n("v-uni-view",{staticStyle:{height:"100rpx"}}),n("uni-drawer",{attrs:{visible:t.showRigth,mode:"right"},on:{close:function(e){arguments[0]=e=t.$handleEvent(e),t.closeDrawer.apply(void 0,arguments)}}},[n("card",{attrs:{headTitle:"价格范围",headBorderBottom:!1,headTitleWeight:!1}},[n("zcm-radio-group",{attrs:{label:t.label,selected:t.label.selected},on:{"update:selected":function(e){arguments[0]=e=t.$handleEvent(e),t.$set(t.label,"selected",e)}}})],1),n("v-uni-view",{staticClass:"d-flex position-fixed bottom-0 right-0 w-100 border-top border-light-secondary"},[n("v-uni-view",{staticClass:"flex-1 main-bg-color text-white font-md py-2 text-center",attrs:{"hover-class":"main-bg-hover-color"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.confirm.apply(void 0,arguments)}}},[t._v("确定")]),n("v-uni-view",{staticClass:"flex-1 font-md py-2 text-center",attrs:{"hover-class":"bg-light-secondary"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.reset.apply(void 0,arguments)}}},[t._v("重置")])],1)],1),t._l(t.list,(function(t,e){return[n("search-list",{key:e+"_0",attrs:{item:t,index:e}})]})),0===t.list.length?n("no-thing",{attrs:{msg:"空空如也"}}):t._e(),n("divider"),n("v-uni-view",{staticClass:"d-flex a-center j-center text-light-muted font-md py-3"},[t._v(t._s(t.loadtext))])],2)},r=[]},1311:function(t,e,n){"use strict";n.r(e);var i=n("fb32"),a=n.n(i);for(var r in i)"default"!==r&&function(t){n.d(e,t,(function(){return i[t]}))}(r);e["default"]=a.a},"183f":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={name:"UniDrawer",props:{visible:{type:Boolean,default:!1},mode:{type:String,default:""},mask:{type:Boolean,default:!0}},data:function(){return{visibleSync:!1,showDrawer:!1,rightMode:!1}},watch:{visible:function(t){var e=this;clearTimeout(this.watchTimer),setTimeout((function(){e.showDrawer=t}),100),this.visibleSync&&clearTimeout(this.closeTimer),t?this.visibleSync=t:this.watchTimer=setTimeout((function(){e.visibleSync=t}),300)}},created:function(){var t=this;this.visibleSync=this.visible,setTimeout((function(){t.showDrawer=t.visible}),100),this.rightMode="right"===this.mode},methods:{close:function(){var t=this;this.showDrawer=!1,this.closeTimer=setTimeout((function(){t.visibleSync=!1,t.$emit("close")}),200)},moveHandle:function(){}}};e.default=i},"22d5":function(t,e,n){"use strict";n.r(e);var i=n("115a"),a=n("8c9f");for(var r in a)"default"!==r&&function(t){n.d(e,t,(function(){return a[t]}))}(r);var o,s=n("f0c5"),c=Object(s["a"])(a["default"],i["b"],i["c"],!1,null,"87df3638",null,!1,i["a"],o);e["default"]=c.exports},"259e":function(t,e,n){"use strict";n.r(e);var i=n("ee80"),a=n("964e");for(var r in a)"default"!==r&&function(t){n.d(e,t,(function(){return a[t]}))}(r);var o,s=n("f0c5"),c=Object(s["a"])(a["default"],i["b"],i["c"],!1,null,"61cef24e",null,!1,i["a"],o);e["default"]=c.exports},"34ce":function(t,e,n){"use strict";var i=n("0c9a"),a=n.n(i);a.a},"3c46":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={props:{icon:{type:String,default:"no_comment"},msg:{type:String,default:"您还没有待付款订单"}},computed:{getIcon:function(){return"/static/images/nothing/".concat(this.icon,".png")}}};e.default=i},"3d6f":function(t,e,n){"use strict";var i;n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return i}));var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"d-flex line-h",class:t.priceSize+" "+t.color},[n("v-uni-text",{staticClass:"a-self-start",class:t.unitSize},[t._v("￥")]),t._t("default")],2)},r=[]},"3e3e":function(t,e,n){"use strict";n.r(e);var i=n("3d6f"),a=n("1311");for(var r in a)"default"!==r&&function(t){n.d(e,t,(function(){return a[t]}))}(r);var o,s=n("f0c5"),c=Object(s["a"])(a["default"],i["b"],i["c"],!1,null,"1f77dc6e",null,!1,i["a"],o);e["default"]=c.exports},"3fde":function(t,e,n){"use strict";var i;n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return i}));var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"row p-2 border-bottom border-light-secondary animated fadeIn faster",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.openDetail.apply(void 0,arguments)}}},[n("v-uni-view",{staticClass:"span-6"},[n("v-uni-image",{staticClass:"w-100",attrs:{src:t.item.titlepic,mode:"widthFix"}})],1),n("v-uni-view",{staticClass:"span-14 pl-3 d-flex flex-column"},[n("v-uni-view",{staticClass:"font-md font-weight"},[t._v(t._s(t.item.title))]),n("v-uni-view",{staticClass:"font text-light-muted line-h-md mb-auto"},[t._v(t._s(t.item.desc))]),n("price",[t._v(t._s(t.item.pprice))]),n("v-uni-view",{staticClass:"font-sm text-light-muted"},[t._v(t._s(t.item.comment_num)+" 条评论  "+t._s(t.item.good_num)+"满意")])],1)],1)},r=[]},4245:function(t,e,n){"use strict";n.r(e);var i=n("5500"),a=n.n(i);for(var r in i)"default"!==r&&function(t){n.d(e,t,(function(){return i[t]}))}(r);e["default"]=a.a},"4b1d":function(t,e,n){"use strict";n.r(e);var i=n("e64f"),a=n("4245");for(var r in a)"default"!==r&&function(t){n.d(e,t,(function(){return a[t]}))}(r);var o,s=n("f0c5"),c=Object(s["a"])(a["default"],i["b"],i["c"],!1,null,"0f672f55",null,!1,i["a"],o);e["default"]=c.exports},5500:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={props:{bodyStyle:String,headTitle:String,bodyCover:String,showhead:{type:Boolean,default:!0},headBorderBottom:{type:Boolean,default:!0},headTitleWeight:{type:Boolean,default:!0},bodyPadding:{type:Boolean,default:!1},cardStyle:{type:String,default:""}},computed:{getHeadClass:function(){var t=this.headBorderBottom?"border-bottom":"";return"".concat(t)},getBodyClass:function(){var t=this.bodyPadding?"p-2":"";return"".concat(t)}}};e.default=i},5587:function(t,e,n){"use strict";n.r(e);var i=n("3fde"),a=n("bf69");for(var r in a)"default"!==r&&function(t){n.d(e,t,(function(){return a[t]}))}(r);var o,s=n("f0c5"),c=Object(s["a"])(a["default"],i["b"],i["c"],!1,null,"82559aec",null,!1,i["a"],o);e["default"]=c.exports},6673:function(t,e,n){"use strict";n.r(e);var i=n("a367"),a=n.n(i);for(var r in i)"default"!==r&&function(t){n.d(e,t,(function(){return i[t]}))}(r);e["default"]=a.a},"76e3":function(t,e,n){"use strict";var i;n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return i}));var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.visibleSync?n("v-uni-view",{staticClass:"uni-drawer",class:{"uni-drawer--visible":t.showDrawer,"uni-drawer--right":t.rightMode},on:{touchmove:function(e){e.stopPropagation(),e.preventDefault(),arguments[0]=e=t.$handleEvent(e),t.moveHandle.apply(void 0,arguments)}}},[n("v-uni-view",{staticClass:"uni-drawer__mask",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.close.apply(void 0,arguments)}}}),n("v-uni-view",{staticClass:"uni-drawer__content",staticStyle:{width:"75%"}},[t._t("default")],2)],1):t._e()},r=[]},"776b":function(t,e,n){var i=n("24fb");e=i(!1),e.push([t.i,".radio-active[data-v-7f9a1616]{background:#fce0d5!important;color:#eb7320!important;border-color:#eb7320!important}",""]),t.exports=e},"7a47":function(t,e,n){"use strict";n.r(e);var i=n("183f"),a=n.n(i);for(var r in i)"default"!==r&&function(t){n.d(e,t,(function(){return i[t]}))}(r);e["default"]=a.a},"894e":function(t,e,n){"use strict";n.r(e);var i=n("76e3"),a=n("7a47");for(var r in a)"default"!==r&&function(t){n.d(e,t,(function(){return a[t]}))}(r);n("34ce");var o,s=n("f0c5"),c=Object(s["a"])(a["default"],i["b"],i["c"],!1,null,"7eb03c19",null,!1,i["a"],o);e["default"]=c.exports},"8c9f":function(t,e,n){"use strict";n.r(e);var i=n("8ccc"),a=n.n(i);for(var r in i)"default"!==r&&function(t){n.d(e,t,(function(){return i[t]}))}(r);e["default"]=a.a},"8ccc":function(t,e,n){"use strict";var i=n("4ea4");n("99af"),n("c975"),n("d81d"),n("a434"),n("b680"),n("ac1f"),n("841c"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=i(n("2909")),r=i(n("5530")),o=i(n("ade3")),s=i(n("894e")),c=i(n("4b1d")),u=i(n("cbe0")),l=i(n("5587")),d=i(n("259e")),f={components:{uniDrawer:s.default,card:c.default,zcmRadioGroup:u.default,searchList:l.default,noThing:d.default},data:function(){return{loadtext:"上拉加载更多",keyword:"",page:1,list:[],showRigth:!1,screen:{currentIndex:0,list:[{name:"综合",status:2,key:"all"},{name:"销量",status:0,key:"sale_count"},{name:"价格",status:0,key:"min_price"}]},label:{selected:0,list:[{name:"不限",rule:!1,value:!1},{name:"0-50",rule:"between",value:"0,50"},{name:"50-100",rule:"between",value:"50,100"},{name:"100-500",rule:"between",value:"100,500"},{name:"500-1000",rule:"between",value:"500,1000"},{name:"大于1000",rule:">",value:"1000"}]},condition:{},oldSelected:0}},computed:{options:function(){var t=this.screen.list[this.screen.currentIndex],e=1===t.status?"asc":"desc";return(0,o.default)({},t.key,e)}},onNavigationBarSearchInputChanged:function(t){this.keyword=t.text},onNavigationBarSearchInputConfirmed:function(){this.search()},onNavigationBarButtonTap:function(){this.search()},onLoad:function(t){this.keyword=t.keyword,this.getData()},onPullDownRefresh:function(){this.getData(!0,(function(){uni.showToast({title:"刷新成功",icon:"none"}),uni.stopPullDownRefresh()}))},onReachBottom:function(){"上拉加载更多"===this.loadtext&&(this.loadtext="加载中...",this.page++,this.getData(!1))},methods:{initSearch:function(){this.label.selected=0,this.condition={},this.page=1},search:function(){if(""===this.keyword)return uni.showToast({title:"关键词不能为空",icon:"none"});uni.hideKeyboard(),this.addHistory(),this.initSearch(),this.getData()},addHistory:function(){var t=uni.getStorageSync("searchHistory");t=t?JSON.parse(t):[];var e=t.indexOf(this.keyword);-1===e?t.unshift(this.keyword):t.unshift(t.splice(e,1)[0]),uni.setStorageSync("searchHistory",JSON.stringify(t))},getData:function(){var t=this,e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=e?1:this.page;this.$H.post("/goods/search",(0,r.default)((0,r.default)({title:this.keyword,page:i},this.options),this.condition)).then((function(i){var r=t.format(i);t.list=e?(0,a.default)(r):[].concat((0,a.default)(t.list),(0,a.default)(r)),t.loadtext=i.length<10?"没有更多了":"上拉加载更多","function"===typeof n&&n()}))},format:function(t){return t.map((function(t){var e=0===t.comments_count?0:t.comments_good_count/t.comments_count*100;return{id:t.id,title:t.title,titlepic:t.cover,desc:t.desc,pprice:t.min_price,comment_num:t.comments_count,good_num:e.toFixed(2)+"%"}}))},changeScreen:function(t){var e=this.screen.currentIndex,n=this.screen.list[e];if(e===t)return n.status=1===n.status?2:1,void this.getData();var i=this.screen.list[t];n.status=0,this.screen.currentIndex=t,i.status=1,this.getData()},showDrawer:function(){this.showRigth=!0,this.oldSelected=this.label.selected},closeDrawer:function(){this.label.selected=this.oldSelected,this.showRigth=!1,this.oldSelected=0},confirm:function(){this.getCondition(),this.getData(),this.showRigth=!1},reset:function(){this.condition={},this.label.selected=0,this.getData(),this.showRigth=!1},getCondition:function(){var t=this.label.list[this.label.selected];this.condition=t.rule&&t.value?{price:t.rule+","+t.value}:{}}}};e.default=f},"8fd0":function(t,e,n){var i=n("24fb");e=i(!1),e.push([t.i,".uni-drawer[data-v-7eb03c19]{display:block;position:fixed;top:0;left:0;right:0;bottom:0;overflow:hidden;visibility:hidden;z-index:10001;height:100%}.uni-drawer.uni-drawer--right .uni-drawer__content[data-v-7eb03c19]{left:auto;right:0;-webkit-transform:translatex(100%);transform:translatex(100%)}.uni-drawer.uni-drawer--visible[data-v-7eb03c19]{visibility:visible}.uni-drawer.uni-drawer--visible .uni-drawer__content[data-v-7eb03c19]{-webkit-transform:translatex(0);transform:translatex(0)}.uni-drawer.uni-drawer--visible .uni-drawer__mask[data-v-7eb03c19]{display:block;opacity:1}.uni-drawer__mask[data-v-7eb03c19]{display:block;opacity:0;position:absolute;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,.4);-webkit-transition:opacity .3s;transition:opacity .3s}.uni-drawer__content[data-v-7eb03c19]{display:block;position:absolute;top:0;left:0;width:61.8%;height:100%;background:#fff;-webkit-transition:all .3s ease-out;transition:all .3s ease-out;-webkit-transform:translatex(-100%);transform:translatex(-100%)}",""]),t.exports=e},"964e":function(t,e,n){"use strict";n.r(e);var i=n("3c46"),a=n.n(i);for(var r in i)"default"!==r&&function(t){n.d(e,t,(function(){return i[t]}))}(r);e["default"]=a.a},"9b43":function(t,e,n){"use strict";var i=n("4ea4");n("a9e3"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=i(n("3e3e")),r={components:{price:a.default},props:{item:Object,index:Number},methods:{openDetail:function(){uni.navigateTo({url:"/pages/detail/detail?detail="+JSON.stringify(this.item)})}}};e.default=r},a367:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={props:{label:Object},methods:{changeRadio:function(t){this.$emit("update:selected",t)}}};e.default=i},adcb:function(t,e,n){var i=n("776b");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var a=n("4f06").default;a("29356e55",i,!0,{sourceMap:!1,shadowMode:!1})},b9d5:function(t,e,n){"use strict";var i;n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return i}));var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"row"},t._l(t.label.list,(function(e,i){return n("v-uni-view",{key:i,staticClass:"span24-8 px-2 mb-2"},[n("v-uni-view",{staticClass:"rounded px-2 py-1 bg-light-secondary font-md text-center border",class:t.label.selected===i?"radio-active":"border-light-secondary",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.changeRadio(i)}}},[t._v(t._s(e.name))])],1)})),1)},r=[]},ba64:function(t,e,n){"use strict";var i=n("adcb"),a=n.n(i);a.a},bf69:function(t,e,n){"use strict";n.r(e);var i=n("9b43"),a=n.n(i);for(var r in i)"default"!==r&&function(t){n.d(e,t,(function(){return i[t]}))}(r);e["default"]=a.a},cbe0:function(t,e,n){"use strict";n.r(e);var i=n("b9d5"),a=n("6673");for(var r in a)"default"!==r&&function(t){n.d(e,t,(function(){return a[t]}))}(r);n("ba64");var o,s=n("f0c5"),c=Object(s["a"])(a["default"],i["b"],i["c"],!1,null,"7f9a1616",null,!1,i["a"],o);e["default"]=c.exports},e64f:function(t,e,n){"use strict";var i;n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return i}));var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"card",style:t.cardStyle},[t.showhead?n("v-uni-view",{staticClass:"p-2 main-border-color d-flex a-center j-sb",class:t.getHeadClass},[t._t("title",[t.headTitle?n("v-uni-text",{staticClass:"font-md",class:t.headTitleWeight?"font-weight":""},[t._v(t._s(t.headTitle))]):t._e()]),t._t("right")],2):t._e(),n("v-uni-view",{class:t.getBodyClass,style:t.bodyStyle},[t.bodyCover?n("v-uni-image",{attrs:{src:t.bodyCover,mode:"widthFix"}}):t._e(),t._t("default")],2)],1)},r=[]},ee80:function(t,e,n){"use strict";var i;n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return i}));var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"position-absolute d-flex flex-column a-center j-center top-0 left-0 right-0 bottom-0",staticStyle:{"background-color":"#F5F5F5"}},[n("v-uni-image",{staticStyle:{width:"250rpx"},attrs:{src:t.getIcon,mode:"widthFix"}}),n("v-uni-view",{staticStyle:{color:"#B2B2B2"}},[t._v(t._s(t.msg))])],1)},r=[]},fb32:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={props:{priceSize:{type:String,default:"font-md"},unitSize:{type:String,default:"font-sm"},color:{type:String,default:"main-text-color"}}};e.default=i}}]);