(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-order-order"],{"0317":function(t,e,n){"use strict";n.r(e);var i=n("60bdc"),a=n.n(i);for(var o in i)"default"!==o&&function(t){n.d(e,t,(function(){return i[t]}))}(o);e["default"]=a.a},1311:function(t,e,n){"use strict";n.r(e);var i=n("fb32"),a=n.n(i);for(var o in i)"default"!==o&&function(t){n.d(e,t,(function(){return i[t]}))}(o);e["default"]=a.a},"17e1":function(t,e,n){var i=n("24fb");e=i(!1),e.push([t.i,".tabactive[data-v-ca40bd6c]{border-bottom:%?5?% solid #fd6801;color:#fd6801;margin-bottom:%?-5?%}",""]),t.exports=e},"259e":function(t,e,n){"use strict";n.r(e);var i=n("ee80"),a=n("964e");for(var o in a)"default"!==o&&function(t){n.d(e,t,(function(){return a[t]}))}(o);var r,c=n("f0c5"),u=Object(c["a"])(a["default"],i["b"],i["c"],!1,null,"61cef24e",null,!1,i["a"],r);e["default"]=u.exports},"25e3":function(t,e,n){"use strict";var i=n("4ea4");n("a9e3"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=i(n("3e3e")),o={components:{price:a.default},props:{item:Object,index:[Number,String],type:{type:String,default:"navigateTo"}},methods:{openDetail:function(){uni[this.type]({url:"/pages/detail/detail?detail="+JSON.stringify(this.item)})}}};e.default=o},2711:function(t,e,n){var i=n("17e1");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var a=n("4f06").default;a("46aaaa1c",i,!0,{sourceMap:!1,shadowMode:!1})},"2dc9":function(t,e,n){"use strict";var i=n("2711"),a=n.n(i);a.a},"30b1":function(t,e,n){"use strict";var i;n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return o})),n.d(e,"a",(function(){return i}));var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"bg-white",on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.openDetail.apply(void 0,arguments)}}},[n("divider"),n("v-uni-view",{staticClass:"d-flex a-center p-2 border-bottom border-light-secondary"},[n("v-uni-text",{staticClass:"text-light-muted font-md"},[t._v(t._s(t.item.create_time))]),n("v-uni-text",{staticClass:"main-text-color ml-auto font-md"},[t._v(t._s(t.item.status))])],1),n("v-uni-view",{staticClass:"px-2"},[t._l(t.item.order_items,(function(t,e){return[n("order-list-item",{key:e+"_0",attrs:{item:t,index:e}})]}))],2),n("v-uni-view",{staticClass:"d-flex a-center p-2"},[n("v-uni-text",{staticClass:"text-dark font-md ml-auto"},[t._v("共"+t._s(t.item.order_items.length)+"件商品，合计：￥"+t._s(t.item.total_price))])],1),n("v-uni-view",{staticClass:"d-flex j-end a-center px-2 pb-2"},["待支付"===t.item.status?[n("common-button",{on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.openPayMethods.apply(void 0,arguments)}}},[t._v("去支付")]),n("common-button",{on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.closeOrder.apply(void 0,arguments)}}},[t._v("取消订单")])]:"待发货"===t.item.status?[n("common-button",[t._v("提醒发货")]),n("common-button",{on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.applyRefund.apply(void 0,arguments)}}},[t._v("申请退款")])]:"待收货"===t.item.status?[n("common-button",{on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.openLogistics.apply(void 0,arguments)}}},[t._v("查看物流")]),n("common-button",{on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.received.apply(void 0,arguments)}}},[t._v("确认收货")])]:[n("common-button",{on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.openDetail.apply(void 0,arguments)}}},[t._v("查看详情")])]],2)],1)},o=[]},"38bc":function(t,e,n){"use strict";n.r(e);var i=n("bd1a"),a=n.n(i);for(var o in i)"default"!==o&&function(t){n.d(e,t,(function(){return i[t]}))}(o);e["default"]=a.a},"3c46":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={props:{icon:{type:String,default:"no_comment"},msg:{type:String,default:"您还没有待付款订单"}},computed:{getIcon:function(){return"/static/images/nothing/".concat(this.icon,".png")}}};e.default=i},"3d6f":function(t,e,n){"use strict";var i;n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return o})),n.d(e,"a",(function(){return i}));var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"d-flex line-h",class:t.priceSize+" "+t.color},[n("v-uni-text",{staticClass:"a-self-start",class:t.unitSize},[t._v("￥")]),t._t("default")],2)},o=[]},"3e3e":function(t,e,n){"use strict";n.r(e);var i=n("3d6f"),a=n("1311");for(var o in a)"default"!==o&&function(t){n.d(e,t,(function(){return a[t]}))}(o);var r,c=n("f0c5"),u=Object(c["a"])(a["default"],i["b"],i["c"],!1,null,"1f77dc6e",null,!1,i["a"],r);e["default"]=u.exports},"43d5":function(t,e,n){"use strict";var i;n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return o})),n.d(e,"a",(function(){return i}));var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"border-bottom d-flex a-center py-2 border-light-secondary",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.open.apply(void 0,arguments)}}},[n("v-uni-image",{staticClass:"rounded mx-2 flex-shrink",staticStyle:{width:"150rpx",height:"150rpx"},attrs:{src:t.item.cover,mode:"widthFix"}}),n("v-uni-view",{staticClass:"flex-1"},[n("v-uni-view",{staticClass:"d-flex a-center"},[n("v-uni-text",{staticClass:"font-md text-dark"},[t._v(t._s(t.item.title))]),n("v-uni-text",{staticClass:"font-md text-light-muted ml-auto"},[t._v("￥"+t._s(t.item.pprice))])],1),n("v-uni-view",{staticClass:"d-flex a-center"},[n("v-uni-text",{staticClass:"font text-light-muted"},[t._v(t._s(t.item.attrs))]),n("v-uni-text",{staticClass:"font text-light-muted ml-auto"},[t._v("x"+t._s(t.item.num))])],1)],1)],1)},o=[]},"5ec3":function(t,e,n){"use strict";n.r(e);var i=n("bcdb"),a=n.n(i);for(var o in i)"default"!==o&&function(t){n.d(e,t,(function(){return i[t]}))}(o);e["default"]=a.a},"60bdc":function(t,e){},7021:function(t,e,n){"use strict";n.r(e);var i=n("43d5"),a=n("8307");for(var o in a)"default"!==o&&function(t){n.d(e,t,(function(){return a[t]}))}(o);var r,c=n("f0c5"),u=Object(c["a"])(a["default"],i["b"],i["c"],!1,null,"20220dc4",null,!1,i["a"],r);e["default"]=u.exports},8307:function(t,e,n){"use strict";n.r(e);var i=n("a95a"),a=n.n(i);for(var o in i)"default"!==o&&function(t){n.d(e,t,(function(){return i[t]}))}(o);e["default"]=a.a},"964e":function(t,e,n){"use strict";n.r(e);var i=n("3c46"),a=n.n(i);for(var o in i)"default"!==o&&function(t){n.d(e,t,(function(){return i[t]}))}(o);e["default"]=a.a},"9fee":function(t,e,n){"use strict";n.r(e);var i=n("25e3"),a=n.n(i);for(var o in i)"default"!==o&&function(t){n.d(e,t,(function(){return i[t]}))}(o);e["default"]=a.a},a95a:function(t,e,n){"use strict";n("a9e3"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={props:{item:Object,index:Number},methods:{open:function(){uni.navigateTo({url:"/pages/detail/detail"})}}};e.default=i},aa2d:function(t,e,n){"use strict";n.r(e);var i=n("f521"),a=n("9fee");for(var o in a)"default"!==o&&function(t){n.d(e,t,(function(){return a[t]}))}(o);var r,c=n("f0c5"),u=Object(c["a"])(a["default"],i["b"],i["c"],!1,null,"d452a2a4",null,!1,i["a"],r);e["default"]=u.exports},b5aa:function(t,e,n){"use strict";var i;n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return o})),n.d(e,"a",(function(){return i}));var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticStyle:{background:"#F5F5F5"}},[n("v-uni-view",{staticClass:"d-flex bg-white a-center font-md text-muted border-top border-bottom border-light-secondary"},t._l(t.tabBars,(function(e,i){return n("v-uni-view",{key:i,staticClass:"flex-1 d-flex a-center j-center py-2",class:t.tabIndex===i?"tabactive":"",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.changeTab(i)}}},[t._v(t._s(e.name))])})),1),t._l(t.tabBars,(function(e,i){return[n("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:i===t.tabIndex,expression:"tabI === tabIndex"}],key:i+"_0",staticClass:"position-relative",staticStyle:{"min-height":"440rpx"}},[e.list.length>0?[t._l(e.list,(function(e,i){return[n("order-list",{key:i+"_0",attrs:{item:e,index:i},on:{update:function(e){arguments[0]=e=t.$handleEvent(e),t.getOrderList.apply(void 0,arguments)}}})]}))]:[n("no-thing",{attrs:{icon:e.no_thing,msg:e.msg}})]],2)]})),n("v-uni-view",{staticClass:"text-center main-text-color font-md font-weight mt-5"},[t._v("为你推荐")]),n("v-uni-view",{staticClass:"position-relative d-flex a-center j-center text-secondary mb-3 pt-3"},[n("v-uni-view",{staticClass:"px-2 position-absolute",staticStyle:{background:"#F5F5F5","z-index":"2"}},[t._v("买的人还买了")]),n("v-uni-view",{staticClass:"position-absolute",staticStyle:{height:"1upx",left:"0",right:"0","background-color":"#DDDDDD"}})],1),n("v-uni-view",{staticClass:"row j-sb bg-white"},t._l(t.hotList,(function(t,e){return n("common-list",{key:e,attrs:{item:t,index:e}})})),1)],2)},o=[]},bcdb:function(t,e,n){"use strict";var i=n("4ea4");n("a9e3"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=i(n("7021")),o=i(n("e26b")),r={components:{orderListItem:a.default,commonButton:o.default},props:{item:Object,index:Number},methods:{openPayMethods:function(){uni.navigateTo({url:"../pay-methods/pay-methods?detail="+JSON.stringify({id:this.item.id,price:this.item.total_price})})},closeOrder:function(){var t=this;uni.showModal({content:"是否要取消该订单？",success:function(e){e.confirm&&(uni.showLoading({title:"取消订单中...",mask:!1}),t.$H.post("/closeorder/"+t.item.id,{},{token:!0}).then((function(e){uni.hideLoading(),uni.showToast({title:"取消订单成功",icon:"none"}),t.$emit("update")})).catch((function(t){uni.hideLoading()})))}})},applyRefund:function(){uni.navigateTo({url:"/pages/order-refund/order-refund?detail="+JSON.stringify({id:this.item.id})})},openLogistics:function(){uni.navigateTo({url:"/pages/logistics-detail/logistics-detail?detail="+JSON.stringify({id:this.item.id})})},received:function(){var t=this;uni.showModal({content:"是否要确认收货？",success:function(e){e.confirm&&(uni.showLoading({title:"确认收货中...",mask:!1}),t.$H.post("/order/"+t.item.id+"/received",{},{token:!0}).then((function(e){uni.hideLoading(),uni.showToast({title:"确认收货成功",icon:"none"}),t.$emit("update")})).catch((function(t){uni.hideLoading()})))}})},openDetail:function(){uni.navigateTo({url:"/pages/order-detail/order-detail?id="+this.item.id})}}};e.default=r},bd1a:function(t,e,n){"use strict";var i=n("4ea4");n("a15b"),n("d81d"),n("e25e"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=i(n("aa2d")),o=i(n("259e")),r=i(n("e086")),c={components:{commonList:a.default,noThing:o.default,orderList:r.default},data:function(){return{tabIndex:0,tabBars:[{name:"全部",no_thing:"no_pay",msg:"你还没有订单",key:"all",list:[]},{name:"待付款",no_thing:"no_pay",msg:"你还没有待付款订单",key:"paying",list:[]},{name:"待收货",no_thing:"no_receiving",msg:"你还没有待收货订单",key:"receiving",list:[]},{name:"待评价",no_thing:"no_comment",msg:"你还没有待评价订单",key:"reviewing",list:[]}],hotList:[]}},onLoad:function(t){t.tabIndex&&(this.tabIndex=parseInt(t.tabIndex)),this.getHotList()},computed:{key:function(){return this.tabBars[this.tabIndex].key}},onShow:function(){this.getOrderList()},methods:{getOrderList:function(){var t=this,e=this.tabIndex;this.$H.post("/order/"+this.key,{},{token:!0}).then((function(n){t.tabBars[e].list=n.map((function(e){var n=e.order_items.map((function(t){var e=[];if(1===t.skus_type&&t.goods_skus&&t.goods_skus.skus){var n=t.goods_skus.skus;for(var i in n)e.push(n[i].value)}return{id:t.goods_id,cover:t.goods_item.cover,title:t.goods_item.title,pprice:t.price,attrs:e.join(","),num:t.num}}));return{id:e.id,create_time:e.create_time,status:t.$U.formatStatus(e),order_items:n,total_price:e.total_price}}))}))},getHotList:function(){var t=this;this.$H.get("/goods/hotlist").then((function(e){t.hotList=e.map((function(t){return{id:t.id,cover:t.cover,title:t.title,desc:t.desc,oprice:t.min_oprice,pprice:t.min_price}}))}))},changeTab:function(t){this.tabIndex=t,this.getOrderList()}}};e.default=c},bd8e:function(t,e,n){"use strict";var i;n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return o})),n.d(e,"a",(function(){return i}));var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"ml-2 rounded border border-light-secondary py-1 px-2 text-secondary",attrs:{"hover-class":"bg-light-secondary"},on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.$emit("click")}}},[t._t("default")],2)},o=[]},d518:function(t,e,n){"use strict";n.r(e);var i=n("b5aa"),a=n("38bc");for(var o in a)"default"!==o&&function(t){n.d(e,t,(function(){return a[t]}))}(o);n("2dc9");var r,c=n("f0c5"),u=Object(c["a"])(a["default"],i["b"],i["c"],!1,null,"ca40bd6c",null,!1,i["a"],r);e["default"]=u.exports},e086:function(t,e,n){"use strict";n.r(e);var i=n("30b1"),a=n("5ec3");for(var o in a)"default"!==o&&function(t){n.d(e,t,(function(){return a[t]}))}(o);var r,c=n("f0c5"),u=Object(c["a"])(a["default"],i["b"],i["c"],!1,null,"9205d836",null,!1,i["a"],r);e["default"]=u.exports},e26b:function(t,e,n){"use strict";n.r(e);var i=n("bd8e"),a=n("0317");for(var o in a)"default"!==o&&function(t){n.d(e,t,(function(){return a[t]}))}(o);var r,c=n("f0c5"),u=Object(c["a"])(a["default"],i["b"],i["c"],!1,null,"1e293e0a",null,!1,i["a"],r);e["default"]=u.exports},ee80:function(t,e,n){"use strict";var i;n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return o})),n.d(e,"a",(function(){return i}));var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"position-absolute d-flex flex-column a-center j-center top-0 left-0 right-0 bottom-0",staticStyle:{"background-color":"#F5F5F5"}},[n("v-uni-image",{staticStyle:{width:"250rpx"},attrs:{src:t.getIcon,mode:"widthFix"}}),n("v-uni-view",{staticStyle:{color:"#B2B2B2"}},[t._v(t._s(t.msg))])],1)},o=[]},f521:function(t,e,n){"use strict";var i;n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return o})),n.d(e,"a",(function(){return i}));var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticStyle:{width:"372.5upx"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.openDetail.apply(void 0,arguments)}}},[n("v-uni-image",{attrs:{src:t.item.cover,mode:"widthFix","lazy-load":!0}}),n("v-uni-view",{staticClass:"p-2 pt-1"},[n("v-uni-view",{staticClass:"font-md"},[t._v(t._s(t.item.title))]),n("v-uni-text",{staticClass:"d-block font text-light-muted"},[t._v(t._s(t.item.desc))]),n("v-uni-view",{staticClass:"d-flex my-1"},[n("price",[t._v(t._s(t.item.pprice))]),n("v-uni-view",{staticClass:"font-sm text-light-muted line-through ml-1 a-self-end line-h"},[t._v("￥"+t._s(t.item.oprice))])],1)],1)],1)},o=[]},fb32:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={props:{priceSize:{type:String,default:"font-md"},unitSize:{type:String,default:"font-sm"},color:{type:String,default:"main-text-color"}}};e.default=i}}]);